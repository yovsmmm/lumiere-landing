<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lumiere Academy</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
body {
  margin:0;
  font-family: 'Helvetica Neue', Arial, sans-serif;
  background:#000;
  color:#fff;
  text-align:center;
}

.container {
  padding:20px;
  max-width:500px;
  margin:auto;
}

h1 {
  font-weight:300;
  letter-spacing:2px;
}

.subtitle {
  color:#aaa;
  font-size:14px;
  margin-bottom:20px;
}

.card {
  border:1px solid #333;
  border-radius:12px;
  padding:18px;
  margin:12px 0;
  cursor:pointer;
  transition:0.3s;
}

.card:hover {
  background:#111;
  border-color:#fff;
}

.selected {
  border-color:#fff;
  background:#111;
}

input {
  width:100%;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  border:1px solid #333;
  background:#111;
  color:#fff;
}

button {
  width:100%;
  padding:14px;
  margin-top:15px;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}

.primary {
  background:#fff;
  color:#000;
  font-weight:bold;
}

.secondary {
  background:transparent;
  border:1px solid #fff;
  color:#fff;
}

.timer {
  margin:15px 0;
  font-size:14px;
  color:#bbb;
}
</style>
</head>

<body>
<div class="container">

<h1>LUMIERE ACADEMY</h1>
<p class="subtitle">Професійне навчання преміум-рівня</p>

<div id="timer" class="timer"></div>

<div class="card" onclick="selectCourse(this,'LPG масаж')">
  <strong>LPG масаж</strong>
</div>

<div class="card" onclick="selectCourse(this,'Ендосфера')">
  <strong>Ендосфера</strong>
</div>

<div class="card" onclick="selectCourse(this,'Мікроголковий RF')">
  <strong>Мікроголковий RF</strong>
</div>

<h3 style="margin-top:30px;">Забронювати місце</h3>

<input type="text" id="name" placeholder="Ваше ім’я">
<input type="tel" id="phone" placeholder="Телефон">

<button class="primary" onclick="submitForm()">Забронювати</button>
<button class="secondary" onclick="payNow()">Оплатити онлайн</button>

</div>

<script>
const tg = window.Telegram.WebApp;
tg.expand();

let selectedCourse = "";
let endTime = new Date().getTime() + 15 * 60 * 1000; // 15 хв таймер

function selectCourse(element, course) {
  document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));
  element.classList.add('selected');
  selectedCourse = course;
}

function updateTimer() {
  let now = new Date().getTime();
  let distance = endTime - now;

  if (distance <= 0) {
    document.getElementById("timer").innerHTML = "Акційна ціна завершена";
    return;
  }

  let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  let seconds = Math.floor((distance % (1000 * 60)) / 1000);

  document.getElementById("timer").innerHTML =
    "Спеціальна ціна діє: " + minutes + "м " + seconds + "с";
}

setInterval(updateTimer, 1000);

function submitForm() {
  let name = document.getElementById("name").value;
  let phone = document.getElementById("phone").value;

  if (!selectedCourse || !name || !phone) {
    alert("Заповніть всі поля");
    return;
  }

  const data = {
    course: selectedCourse,
    name: name,
    phone: phone
  };

  tg.sendData(JSON.stringify(data));
  alert("Заявка відправлена");
}

function payNow() {
  if (!selectedCourse) {
    alert("Оберіть курс");
    return;
  }

  // ВСТАВ СЮДИ ПОСИЛАННЯ НА ПЛАТІЖНУ СИСТЕМУ
  window.location.href = "https://yourb-payment-link.com";
}
</script>

</body>
</html>